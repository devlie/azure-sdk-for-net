// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using Azure.Core;

namespace Azure.IoT.DeviceUpdate
{
    /// <summary> Deployment metadata. </summary>
    public partial class Deployment
    {
        /// <summary> Initializes a new instance of Deployment. </summary>
        /// <param name="deploymentId">
        /// The caller-provided deployment identifier. This cannot be longer than 73
        /// characters, must be all lower-case, and cannot contain '&amp;', '^', '[', ']', '{',
        /// '}', '|', '&lt;', '&gt;', forward slash, backslash, or double quote. The Updates view
        /// in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
        /// create a deployment.
        /// </param>
        /// <param name="startDateTime"> The deployment start datetime. </param>
        /// <param name="update"> Update information for the update in the deployment. </param>
        /// <param name="groupId"> The group identity for the devices the deployment is intended to update. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="deploymentId"/>, <paramref name="update"/> or <paramref name="groupId"/> is null. </exception>
        public Deployment(string deploymentId, DateTimeOffset startDateTime, UpdateInfo update, string groupId)
        {
            Argument.AssertNotNull(deploymentId, nameof(deploymentId));
            Argument.AssertNotNull(update, nameof(update));
            Argument.AssertNotNull(groupId, nameof(groupId));

            DeploymentId = deploymentId;
            StartDateTime = startDateTime;
            Update = update;
            GroupId = groupId;
            DeviceClassSubgroups = new ChangeTrackingList<string>();
        }

        /// <summary> Initializes a new instance of Deployment. </summary>
        /// <param name="deploymentId">
        /// The caller-provided deployment identifier. This cannot be longer than 73
        /// characters, must be all lower-case, and cannot contain '&amp;', '^', '[', ']', '{',
        /// '}', '|', '&lt;', '&gt;', forward slash, backslash, or double quote. The Updates view
        /// in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
        /// create a deployment.
        /// </param>
        /// <param name="startDateTime"> The deployment start datetime. </param>
        /// <param name="update"> Update information for the update in the deployment. </param>
        /// <param name="groupId"> The group identity for the devices the deployment is intended to update. </param>
        /// <param name="deviceClassSubgroups">
        /// The device class subgroups the deployment is compatible with and subgroup
        /// deployments have been created for. This is not provided by the caller during
        /// CreateOrUpdateDeployment but is automatically determined by Device Update
        /// </param>
        /// <param name="isCanceled"> Boolean flag indicating whether the deployment was canceled. </param>
        /// <param name="isRetried"> Boolean flag indicating whether the deployment has been retried. </param>
        /// <param name="rollbackPolicy"> The rollback policy for the deployment. </param>
        /// <param name="isCloudInitiatedRollback"> Boolean flag indicating whether the deployment is a rollback deployment. </param>
        internal Deployment(string deploymentId, DateTimeOffset startDateTime, UpdateInfo update, string groupId, IReadOnlyList<string> deviceClassSubgroups, bool? isCanceled, bool? isRetried, CloudInitiatedRollbackPolicy rollbackPolicy, bool? isCloudInitiatedRollback)
        {
            DeploymentId = deploymentId;
            StartDateTime = startDateTime;
            Update = update;
            GroupId = groupId;
            DeviceClassSubgroups = deviceClassSubgroups;
            IsCanceled = isCanceled;
            IsRetried = isRetried;
            RollbackPolicy = rollbackPolicy;
            IsCloudInitiatedRollback = isCloudInitiatedRollback;
        }

        /// <summary>
        /// The caller-provided deployment identifier. This cannot be longer than 73
        /// characters, must be all lower-case, and cannot contain '&amp;', '^', '[', ']', '{',
        /// '}', '|', '&lt;', '&gt;', forward slash, backslash, or double quote. The Updates view
        /// in the Azure Portal IoT Hub resource generates a GUID for deploymentId when you
        /// create a deployment.
        /// </summary>
        public string DeploymentId { get; set; }
        /// <summary> The deployment start datetime. </summary>
        public DateTimeOffset StartDateTime { get; set; }
        /// <summary> Update information for the update in the deployment. </summary>
        public UpdateInfo Update { get; set; }
        /// <summary> The group identity for the devices the deployment is intended to update. </summary>
        public string GroupId { get; set; }
        /// <summary>
        /// The device class subgroups the deployment is compatible with and subgroup
        /// deployments have been created for. This is not provided by the caller during
        /// CreateOrUpdateDeployment but is automatically determined by Device Update
        /// </summary>
        public IReadOnlyList<string> DeviceClassSubgroups { get; }
        /// <summary> Boolean flag indicating whether the deployment was canceled. </summary>
        public bool? IsCanceled { get; }
        /// <summary> Boolean flag indicating whether the deployment has been retried. </summary>
        public bool? IsRetried { get; }
        /// <summary> The rollback policy for the deployment. </summary>
        public CloudInitiatedRollbackPolicy RollbackPolicy { get; set; }
        /// <summary> Boolean flag indicating whether the deployment is a rollback deployment. </summary>
        public bool? IsCloudInitiatedRollback { get; }
    }
}

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Linq;
using Azure;
using Azure.Core;

namespace Azure.IoT.DeviceUpdate
{
    /// <summary> Deployment status metadata. </summary>
    public partial class DeploymentStatus
    {
        /// <summary> Initializes a new instance of DeploymentStatus. </summary>
        /// <param name="groupId"> The group identity. </param>
        /// <param name="deploymentState"> The state of the deployment. </param>
        /// <param name="subgroupStatus"> The collection of device class subgroup status objects. </param>
        /// <exception cref="ArgumentNullException"> <paramref name="groupId"/> or <paramref name="subgroupStatus"/> is null. </exception>
        internal DeploymentStatus(string groupId, DeploymentState deploymentState, IEnumerable<DeviceClassSubgroupDeploymentStatus> subgroupStatus)
        {
            Argument.AssertNotNull(groupId, nameof(groupId));
            Argument.AssertNotNull(subgroupStatus, nameof(subgroupStatus));

            GroupId = groupId;
            DeploymentState = deploymentState;
            SubgroupStatus = subgroupStatus.ToList();
        }

        /// <summary> Initializes a new instance of DeploymentStatus. </summary>
        /// <param name="groupId"> The group identity. </param>
        /// <param name="deploymentState"> The state of the deployment. </param>
        /// <param name="error">
        /// The error details of the Failed state.  This is not present if the deployment
        /// state is not Failed.
        /// </param>
        /// <param name="subgroupStatus"> The collection of device class subgroup status objects. </param>
        internal DeploymentStatus(string groupId, DeploymentState deploymentState, ResponseError error, IReadOnlyList<DeviceClassSubgroupDeploymentStatus> subgroupStatus)
        {
            GroupId = groupId;
            DeploymentState = deploymentState;
            Error = error;
            SubgroupStatus = subgroupStatus;
        }

        /// <summary> The group identity. </summary>
        public string GroupId { get; }
        /// <summary> The state of the deployment. </summary>
        public DeploymentState DeploymentState { get; }
        /// <summary>
        /// The error details of the Failed state.  This is not present if the deployment
        /// state is not Failed.
        /// </summary>
        public ResponseError Error { get; }
        /// <summary> The collection of device class subgroup status objects. </summary>
        public IReadOnlyList<DeviceClassSubgroupDeploymentStatus> SubgroupStatus { get; }
    }
}
